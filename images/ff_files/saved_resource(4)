define("@ali/tbshopmod-photo_retouch/index", [], function(require, exports, module) {module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=e.data,n=t.mds,c=void 0===n?{}:n,d=t.gdc,f=void 0===d?{}:d,p=t.modUtils,g=void 0===p?{}:p,m=c.moduleData,w=void 0===m?{}:m,h=w.cells,v=w.cellDataList,_=(h&&v?v[String(h[0])]:w)||{},y=!0===f.preView||"true"===f.preView,x=_.designer_image_url,b=y&&!_.designer_image_url,M=(0,i.useState)(!0),P=M[0],S=M[1],k=(_.links,function(){var e={};_.designer_image_url&&_.designer_image_url.single_widget_id&&(e={trackInfo:_.designer_image_url.single_widget_id});var t=l({widgetId:c.widgetId,moduleName:c.moduleName,shop_id:f.shopId,seller_id:f.userId,micdata:f.wp_pk,wp_pk:f.wp_pk,spm:f.spm_cnt+"."+c.moduleName+"_"+c.widgetId+".0",arg1:"Page_Shop_PictureCut",extParams:{}},e);g.logger&&g.logger.sendLog("Page_Shop_PictureCut","EXP",t)}),A=714/(_.designer_image_url&&_.designer_image_url.width||_.width),j=(_.designer_image_url&&_.designer_image_url.height||_.height)*(A||1),O="";_.designer_image_url&&("string"==typeof _.designer_image_url&&(O=_.designer_image_url),_.designer_image_url.src&&(O=_.designer_image_url.src));return(0,i.createElement)(i.Fragment,null,(0,r.createCondition)([[function(){return x},function(){return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(o.default,{id:"__@designerWrap2@__",style:l({},u.default.designerContainer,{marginBottom:(c.newindexGap||0)+"rpx"}),onAppear:k},(0,i.createElement)(o.default,{style:u.default.designerRadius},(0,i.createElement)(o.default,{style:u.default.designerWrap},P?(0,i.createElement)(a.default,{source:{uri:s.default.compress(O,110)},style:{height:j+"rpx",width:"714rpx",pointerEvents:"none"},lazyload:!0,onError:function(){S(!1);var e=s.default.compress(O,110);console.log("低清图加载失败",e);var t="ShopIndexLoadFuzzyImageError";window.JSTracker2&&window.JSTracker2.reportCustom({stack:e,name:t,message:e,type:"manual",__type__:"manual",module:"tbshopmod-photo_retouch",code:t,success:!1})},"data-performace-include":"true",autoScaling:!1,autoCompress:!1,quality:50}):null,(0,i.createElement)(a.default,{source:{uri:O},style:{height:j+"rpx",width:"714rpx",position:P?"absolute":"static",opacity:P?0:1},lazyload:!0,onLoad:function(){S(!1)},onError:function(){S(!1)},"data-performace-ignore":"true"}),r.createList.call(this,_.links||[],(function(e,t){return(0,i.createElement)(o.default,{key:t,style:{top:e.top*A+"rpx",left:e.left*A+"rpx",width:e.width*A+"rpx",height:e.height*A+"rpx",position:"absolute",zIndex:2},onClick:function(){return function(e,t){var n={};_.designer_image_url&&_.designer_image_url.single_widget_id&&(n={trackInfo:_.designer_image_url.single_widget_id});var r={url:e,nid:t||0,widgetId:c.widgetId,moduleName:c.moduleName,arg1:"Page_Shop_PictureCut",extParams:l({},n)};g.router&&g.router.goTargetUrl(e,r)}(e.href,t)},"data-spmd":c.moduleName+"_"+c.widgetId+"_"+t})}))))))}],[function(){return b},function(){return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(o.default,{style:u.default.defaultImageWrap},(0,i.createElement)(a.default,{source:{uri:"https://gw.alicdn.com/tfs/TB18c22UXP7gK0jSZFjXXc5aXXa-714-360.png"},style:u.default.defaultImage})))}],[function(){return!0},function(){return(0,i.createElement)(i.Fragment,null)}]]))};var r=n(2),i=n(3),o=c(n(4)),a=c(n(5)),u=c(n(6)),s=c(n(7));function c(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}},function(e,t,n){"use strict";var r,i,o;i={},o={}.hasOwnProperty,(r=t).$slot=function(e){var t=e.$slots,n=e.name,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,["$slots","name"]),i=t?t[n]:null;return"function"==typeof i?i(r):null},r.classnames=function e(){for(var t=[],n=0;n<arguments.length;n++){var r=arguments[n];if(r){var i=typeof r;if("string"==i||"number"==i)t.push(r);else if(Array.isArray(r)&&r.length){var a=e.apply(null,r);a&&t.push(a)}else if("object"==i)for(var u in r)o.call(r,u)&&r[u]&&t.push(u)}}return t.join(" ")},r.createCondition=function(e){if(Array.isArray(e))for(var t=0,n=e.length;t<n;t++){var r=e[t],i=r[0],o=r[1];if(i())return o()}return null},r.createJSXMemo=function(e,t){return i.hasOwnProperty(t)?i[t]:i[t]="function"==typeof e?e():e},r.createList=function(e,t){var n,r,i,o,a,u;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),r=0,i=e.length;r<i;r++)n[r]=t.call(this,e[r],r);else if("number"==typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t.call(this,r+1,r);else if(u=e,"[object Object]"==={}.toString.call(u))for(o=Object.keys(e),n=new Array(o.length),r=0,i=o.length;r<i;r++)a=o[r],n[r]=t.call(this,e[a],a,r);return n},Object.defineProperty(r,"__esModule",{value:!0})},function(e,t){e.exports=require("@ali/rax-pkg-rax/index")},function(e,t){e.exports=require("@ali/rax-pkg-rax-view/index")},function(e,t){e.exports=require("@ali/rax-picture@3/index")},function(e,t){e.exports={designerContainer:{width:"750rpx",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},defaultImageWrap:{width:"750rpx",height:"396rpx",display:"flex",alignItems:"center",justifyContent:"center"},defaultImage:{width:"714rpx",height:"360rpx"},linksList:{position:"absolute",left:0,top:0,width:"714rpx"},designerImage:{width:"714rpx"},designerWrap:{display:"flex",overflow:"hidden",position:"relative",width:"714rpx",borderWidth:0,borderStyle:0,borderColor:0,fontSize:0},designerRadius:{borderRadius:"24rpx",overflow:"hidden",width:"714rpx"}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(8))&&r.__esModule?r:{default:r},o=n(16);var a=!1,u=!1;(0,o.isSupport)((function(e){a=e})),(0,o.isSupport)((function(e){u=e}),"alpha");var s={};function c(e,t){var n=function(e){var t=[],n=[];return"string"==typeof e&&(n=e.split(",")),Array.isArray(e)&&(n=e),n&&n[0]&&(t[0]=n[0]),n&&n[1]&&(t[1]=n[1]),t}(t);return e?n[0]:n[1]}var l={markPerformance:function(e,t){void 0===t&&(t=Date.now());try{console.log(e,t),window.WindVane.call("NShop","markPerformance",{data:[{name:e,time:t}]},(function(){console.log("itemsRanksMarkPerformanceSuccess")}),(function(e){console.error("性能记录失败",e)}))}catch(e){console.error("性能记录失败",e)}},markPerformanceOnce:function(e,t){if(void 0===t&&(t=Date.now()),!s[e]){s[e]=!0;try{console.log(e,t),window.WindVane.call("NShop","markPerformance",{data:[{name:e,time:t}]},(function(){console.log("itemsRanksMarkPerformanceSuccess")}),(function(e){console.error("性能记录失败",e)}))}catch(e){console.error("性能记录失败",e)}}},compress:function(e,t){return(0,i.default)(e,{ignoreGif:!0,ignorePng:!0,ignoreApng:!0,removeScheme:!0,replaceDomain:!0,scalingWidth:t,scalingSizes:void 0,autoPixelRatio:!0,webp:a&&u,compressSuffix:c(!0,["Q50"])})}};t.default=l},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=t.scalingWidth,l=t.autoPixelRatio,p=t.webp,g=t.compressSuffix,m=t.quality,w=t.acutance,h=t.removeScheme,v=t.replaceDomain,_=t.ignoreGif,y=t.ignorePng,x=t.ignoreApng,b=t.scalingSizes;if("string"!=typeof e)return e;var M=(0,r.default)(e);if(!M)return e;var P=M[1],S=M[2],k=/\.gif($|\?)/i.test(S)&&_,A=/\.png($|\?)/i.test(S)&&y,j=/\.apng($|\?)/i.test(S)&&x,O=(0,i.default)(e);if(f.indexOf(P)>-1)return e;if(k||j)return v?(0,a.default)(e,P):e;var W=e.split("?"),T=W[0],I=W[1],E=S.match(d)||[];"_.jpg"!==E[0]&&(T=T.replace(E[0],""));var C=E[1]||"";n&&(C=(0,u.default)(n,O,l,b)||C);var X=E[3]||"";(g||m||w)&&!A&&(X=(0,c.default)(g,m,w,O)||X);var F=C&&E[2]||"",R=C||X?E[4]||".jpg":"",B=(0,s.default)(O);B&&e.indexOf(B)>-1?T=T.replace(B,""):p||(B="");if(O){var L="";(C||X||B)&&-1===e.indexOf("@")&&(L="@"),T+=L+C+F+X+B}else{T+=(C||X?"_":"")+C+F+X+R+B}h&&(T=(0,o.default)(T));v&&(T=(0,a.default)(T,P));I&&(T+="?"+I);return T};var r=l(n(9)),i=l(n(10)),o=l(n(11)),a=l(n(12)),u=l(n(13)),s=l(n(14)),c=l(n(15));function l(e){return e&&e.__esModule?e:{default:e}}var d=/_(\d+x\d+|cy\d+i\d+|sum|m|b)?(xz|xc)?((?:q\d+)?(?:s\d+)?)(\.jpg)?(_\.webp)?$/i,f=["fli.alicdn.com"]},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e.match(r)};var r=/^(?:(?:http|https):)?\/\/(.+\.(?:alicdn|taobaocdn|taobao)\.(?:com|net))(\/.*(?:\.(jpg|png|gif|jpeg|webp|heic)).*)$/i},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e.match(r)};var r=/^(?:(?:http|https):)?\/\/(ossgw\.(?:alicdn|taobaocdn|taobao)\.(?:com|net))(\/.*(?:\.(jpg|png|gif|jpeg|webp)).*)$/i},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e.replace(/(http|https):/gi,"")}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=t.match(r);if(n&&"gw.alicdn.com"!=n[0]&&-1===i.indexOf(t))return e.replace(t,"gw.alicdn.com");return e};var r=/(.+\.(?:alicdn|taobaocdn|taobao|mmcdn)\.com)/,i=["a.tbcdn.cn","assets.alicdn.com","wwc.taobaocdn.com","wwc.alicdn.com","cbu01.alicdn.com","ossgw.alicdn.com","ilce.alicdn.com"]},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,i){var o=0,a=1;if("string"==typeof e){o=parseFloat(e);var u=(s=e).indexOf("rpx")>-1||s.indexOf("rem")>-1||s.indexOf("vw")>-1;e.indexOf("vw")>-1&&(o=7.5*o),u&&"undefined"!=typeof window&&(window.screen&&window.screen.width&&(a=750/window.screen.width),n&&window.devicePixelRatio>1&&(o*=window.devicePixelRatio))}else o=e;var s;var c=function(e,t){void 0===t&&(t=r);for(var n=1e3,i=e,o=0,a=!1,u=0;u<t.length;u++){var s=t[u],c=Math.abs(s-e);0===c&&(i=s,o=u,a=!0),n>c&&!a&&(n=c,i=s,o=u)}e>i&&t[o+1]&&(i=t[o+1]);if(t.indexOf(i)>-1)return i;return!1}(Math.floor(o/a),i),l=t?"_"+c+"w":c+"x10000";return c?l:""};var r=[110,140,150,170,220,230,240,290,300,360,450,570,580,620,790]},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return e?".webp":"_.webp"}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,r){return r?(e.startsWith("Q")&&(e="_"+e.split("Q")[1]+"Q"),e||(t?"_"+t:"Q")):e||(t?"Q"+t:"")+(n?"S"+n:"")}},function(e,t,n){"use strict";t.__esModule=!0,t.isSupport=function(e,t){void 0===t&&(t="lossy");"function"==typeof e&&(r.isMiniApp||r.isWeChatMiniProgram?e(!0):"undefined"!=typeof window?window.navigator&&window.navigator.userAgent&&function(e){if(e.match(/PHA/))return!0;if(e.match(/AliApp\(TB\//))return!0;if(e.match(/windows|win32/i))return!1;if(e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&e.match(/UCBrowser/i))return!1;return!1}(window.navigator.userAgent)||window.chrome||window.opera||"true"==function(e){var t;try{window.localStorage&&"function"==typeof window.localStorage.getItem&&(t=window.localStorage.getItem(e))}catch(e){console.error(e)}return t}("webpsupport-"+t)?e(!0):function(e,t){if("function"!=typeof e)return;if("undefined"==typeof Image)return void e(!1);var n=new Image;n.onload=function(){var r=n.width>0&&n.height>0;i(r,t),e(r)},n.onerror=function(){i(!1,t),e(!1)},n.src="//gw.alicdn.com/mt/TB11KmBXwoQMeJjy0FoXXcShVXa-1-1.png_.webp"}(e,t):e(!1))};var r=n(17);function i(e,t){try{window.localStorage&&"function"==typeof window.localStorage.setItem&&window.localStorage.setItem("webpsupport-"+t,""+e)}catch(e){console.error(e)}}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(18);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||(t[e]=r[e]))}))},function(e,t,n){"use strict";(function(e,n){t.__esModule=!0,t.isWindVane=t.isWeex=t.isWeb=t.isWeChatMiniProgram=t.isQuickApp=t.isPHA=t.isNode=t.isMiniApp=t.isKuaiShouMiniProgram=t.isKraken=t.isFRM=t.isByteDanceMicroApp=t.isBaiduSmartProgram=t.default=void 0;var r="undefined"!=typeof window&&"onload"in window;t.isWeb=r;var i=void 0!==e&&!(!e.versions||!e.versions.node);t.isNode=i;var o="undefined"!=typeof WXEnvironment&&"Web"!==WXEnvironment.platform;t.isWeex=o;var a="undefined"!=typeof __kraken__;t.isKraken=a;var u="undefined"!=typeof my&&null!==my&&void 0!==my.alert;t.isMiniApp=u;var s="undefined"!=typeof tt&&null!==tt&&void 0!==tt.showToast;t.isByteDanceMicroApp=s;var c="undefined"!=typeof swan&&null!==swan&&void 0!==swan.showToast;t.isBaiduSmartProgram=c;var l="undefined"!=typeof ks&&null!==ks&&void 0!==ks.showToast;t.isKuaiShouMiniProgram=l;var d=!s&&"undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram);t.isWeChatMiniProgram=d;var f=null!=n&&void 0!==n.callNative&&!o;t.isQuickApp=f;var p=r&&"object"==typeof pha;t.isPHA=p;var g=u&&r&&my.isFRM;t.isFRM=g;var m="object"==typeof navigator?navigator.userAgent||navigator.swuserAgent:"",w=/.+AliApp\((\w+)\/((?:\d+\.)+\d+)\).* .*(WindVane)(?:\/((?:\d+\.)+\d+))?.*/.test(m)&&r&&"undefined"!=typeof WindVane&&void 0!==WindVane.call;t.isWindVane=w;var h={isWeb:r,isNode:i,isWeex:o,isKraken:a,isMiniApp:u,isByteDanceMicroApp:s,isBaiduSmartProgram:c,isKuaiShouMiniProgram:l,isWeChatMiniProgram:d,isQuickApp:f,isPHA:p,isWindVane:w,isFRM:g};t.default=h}).call(this,n(19),n(20))},function(e,t,n){"use strict";var r,i,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"==typeof clearTimeout?clearTimeout:u}catch(e){i=u}}();var c,l=[],d=!1,f=-1;function p(){d&&c&&(d=!1,c.length?l=c.concat(l):f=-1,l.length&&g())}function g(){if(!d){var e=s(p);d=!0;for(var t=l.length;t;){for(c=l,l=[];++f<t;)c&&c[f].run();f=-1,t=l.length}c=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===u||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function w(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||d||s(g)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=w,o.addListener=w,o.once=w,o.off=w,o.removeListener=w,o.removeAllListeners=w,o.emit=w,o.prependListener=w,o.prependOnceListener=w,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r}]);;        (function (e, k, f, g, d) { if (d in e && e[d] !== null && e[d] !== undefined && e[f] === !0) {            if ((k(e).length === 2 && e[g](f) === !0) || (k(e).length === 1 && e[g](f) === !1)) {                module.exports = e[d];                module.exports[d] = module.exports;            }        } })(module.exports, Object.keys, '__esModule', 'propertyIsEnumerable', 'default');    });
